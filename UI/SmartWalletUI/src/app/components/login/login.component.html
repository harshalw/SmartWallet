<div class="login-container">
  <div class="login-card">
    <!-- Logo/Title -->
    <div class="login-header">
      <h1>SmartWallet</h1>
      <p>{{ showRegister() ? 'Create your account' : 'Welcome back' }}</p>
    </div>

    <!-- Login Form -->
    <div *ngIf="!showRegister()" class="form-section">
      <form (ngSubmit)="onLogin()" class="login-form">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            [(ngModel)]="username"
            name="username"
            placeholder="Enter your username"
            required
          />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            [(ngModel)]="passwordHash"
            name="passwordHash"
            placeholder="Enter your password"
            required
          />
        </div>

        <div *ngIf="error()" class="error-message">
          <span>⚠️ {{ error() }}</span>
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="loading()"
        >
          {{ loading() ? 'Logging in...' : 'Login' }}
        </button>
      </form>

      <div class="form-footer">
        <p>Don't have an account?
          <a href="javascript:void(0)" (click)="toggleRegisterForm()" class="toggle-link">
            Sign up here
          </a>
        </p>
      </div>
    </div>

    <!-- Register Form -->
    <div *ngIf="showRegister()" class="form-section">
      <form (ngSubmit)="onRegister()" class="login-form">
        <div class="form-group">
          <label for="reg-username">Username</label>
          <input
            type="text"
            id="reg-username"
            [(ngModel)]="registerUsername"
            name="registerUsername"
            placeholder="Choose a username"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            [(ngModel)]="registerEmail"
            name="registerEmail"
            placeholder="Enter your email"
            required
          />
        </div>

        <div class="form-group">
          <label for="reg-password">Password</label>
          <input
            type="password"
            id="reg-password"
            [(ngModel)]="registerPassword"
            name="registerPassword"
            placeholder="Create a password"
            required
          />
        </div>

        <div *ngIf="registerError()" class="error-message">
          <span>⚠️ {{ registerError() }}</span>
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="loading()"
        >
          {{ loading() ? 'Registering...' : 'Sign Up' }}
        </button>
      </form>

      <div class="form-footer">
        <p>Already have an account?
          <a href="javascript:void(0)" (click)="toggleRegisterForm()" class="toggle-link">
            Login here
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
