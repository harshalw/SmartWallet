<div class="income-container">
  <div class="income-card">
    <h2>Record New Income</h2>

    <div *ngIf="error()" class="error">{{ error() }}</div>
    <div *ngIf="success()" class="success">{{ success() }}</div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="income-form">
      <label for="type">Income Type</label>
      <select id="type" formControlName="selectedTypeId">
        <option [value]="null">-- Select type --</option>
        <option *ngFor="let t of types()" [value]="t.id">{{ t.name }}</option>
      </select>

      <label for="amount">Amount</label>
      <input id="amount" type="number" formControlName="amount" step="0.01" />

      <label for="date">Date</label>
      <input id="date" type="date" formControlName="incomeDate" />

      <label for="description">Description</label>
      <input id="description" type="text" formControlName="description" />

      <div class="actions">
        <button type="submit" class="btn" [disabled]="loading() || !form.valid">{{ loading() ? 'Saving...' : 'Save Income' }}</button>
        <button type="button" class="btn secondary" (click)="router.navigate(['/dashboard'])">Cancel</button>
      </div>
    </form>
  </div>
</div>
